# Domoic Acid Spike Timing Optimization Report

Generated: 2025-08-31 23:58:18

## Executive Summary

This report analyzes the forecasting system's performance in predicting initial domoic acid spike timing, with a focus on when DA levels first exceed 20.0 ppm.

### Key Validation Test Results

The critical test compares our XGBoost model against a naive baseline where predicted DA = actual DA shifted forward by 7 days.

#### XGBoost vs Naive 7-Day Lag Comparison

- **F1 Score Improvement**: -0.207 (❌ Negative)
- **Precision Improvement**: -0.206
- **Recall Improvement**: -0.209

**Interpretation**: Naive 7-day Lag outperforms XGBoost (F1: 0.853 vs 0.646). Consider using Naive 7-day Lag or improving XGBoost.

## Detailed Performance Analysis

### Spike Detection Performance

| Model | Precision | Recall | F1-Score | Spikes Detected | True Positives |
|-------|-----------|--------|----------|-----------------|----------------|
| Xgboost | 0.644 | 0.648 | 0.646 | 509 | 328 |
| Naive_Lag | 0.850 | 0.857 | 0.853 | 1100 | 935 |
| Persistence | 0.850 | 0.857 | 0.853 | 1100 | 935 |
| Seasonal | 0.256 | 0.339 | 0.291 | 1354 | 346 |

### Spike Magnitude Accuracy (for DA > {spike_threshold} ppm)

| Model | MAE (ppm) | RMSE (ppm) | Bias (ppm) | R² |
|-------|-----------|------------|------------|----|
| Xgboost | 18.07 | 26.68 | -13.42 | 0.057 |
| Naive_Lag | 10.69 | 19.01 | -2.00 | 0.575 |
| Persistence | 10.69 | 19.01 | -2.00 | 0.575 |
| Seasonal | 34.58 | 45.17 | -23.61 | -1.303 |

### Overall Performance (All DA Levels)

| Model | MAE (ppm) | RMSE (ppm) | R² |
|-------|-----------|------------|----| 
| Xgboost | 4.57 | 10.42 | 0.560 |
| Naive_Lag | 2.36 | 7.65 | 0.802 |
| Persistence | 2.36 | 7.65 | 0.802 |
| Seasonal | 11.46 | 22.89 | -0.672 |

## Recommendations

Based on this analysis:

### Primary Findings

1. **Spike Timing Accuracy**: ⚠️ **CRITICAL**: Naive lag baseline outperforms XGBoost model, indicating forecasts are not providing value for spike prediction.

2. **Model Performance**: The analysis reveals the current model's strengths and weaknesses in predicting initial spike timing vs gradual decline phases.

3. **Optimization Opportunities**: Identified specific areas for improvement in spike timing prediction accuracy.

### Next Steps

1. **If XGBoost outperforms baselines**: Focus on further optimizing the model architecture and feature engineering for spike detection.

2. **If baselines are competitive**: Consider implementing weighted loss functions that heavily penalize missed spikes and reward early detection.

3. **In all cases**: Implement real-time spike alert thresholds that prioritize sensitivity over specificity for public health protection.

---

*Report generated by DATect Spike Timing Optimizer v1.0*
