2025-08-06 01:04:12 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:04:12 | test_logging | INFO     | <module>:11 | Testing DATect logging system
2025-08-06 01:04:12 | test_logging | WARNING  | <module>:12 | This is a warning message
2025-08-06 01:04:12 | test_logging | ERROR    | <module>:13 | This is an error message
2025-08-06 01:04:12 | forecasting.core.forecast_engine | INFO     | _display_evaluation_metrics:365 | Evaluating performance on 5 forecasts
2025-08-06 01:04:12 | datect.model | INFO     | log_model_performance:189 | Model Performance: xgboost Regression (n=5)
2025-08-06 01:04:12 | datect.model | INFO     | log_model_performance:193 |   RÂ²: 0.9780
2025-08-06 01:04:12 | datect.model | INFO     | log_model_performance:193 |   MAE: 0.9600
2025-08-06 01:04:12 | datect.model | INFO     | log_model_performance:193 |   RMSE: 1.0354
2025-08-06 01:04:12 | datect.model | INFO     | log_model_performance:193 |   Mean Residual: 0.4000
2025-08-06 01:04:12 | datect.model | INFO     | log_model_performance:193 |   Residual Std: 0.9550
2025-08-06 01:04:12 | forecasting.core.forecast_engine | INFO     | _display_evaluation_metrics:400 | Performing comprehensive residual analysis for model validation
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:521 | Regression Model Diagnostics Summary:
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:527 | âœ“ Residuals are normally distributed (Shapiro-Wilk p=0.4286)
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:535 | âœ“ Homoscedasticity assumption satisfied (White's test p=0.3232)
2025-08-06 01:04:17 | forecasting.core.forecast_engine | WARNING  | _print_regression_diagnostics:545 | âš  Model shows some bias (mean residual = 0.4000)
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:552 | âœ“ Residuals are approximately symmetric (skewness = -0.110)
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:557 | âœ“ Normal residual distribution shape (kurtosis = 1.663)
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:561 | Detailed residual plots saved to: ./evaluation_plots/
2025-08-06 01:04:17 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:562 | Publication-ready model validation plots generated
2025-08-06 01:06:24 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:06:24 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 3 rows Ã— 2 columns
2025-08-06 01:10:31 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:10:32 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: test_model_artifacts
2025-08-06 01:10:32 | forecasting.core.model_persistence | INFO     | _save_model_components:321 | Saved 4 model components
2025-08-06 01:10:32 | forecasting.core.model_persistence | INFO     | _create_model_backup:405 | Model backup created: model_backups/test_model_v1.0_20250806_011032
2025-08-06 01:10:32 | forecasting.core.model_persistence | INFO     | save_model:106 | Model saved successfully: test_model_artifacts/test_model_v1.0
2025-08-06 01:10:32 | forecasting.core.model_persistence | INFO     | load_model:150 | Model loaded successfully: test_model v1.0
2025-08-06 01:10:32 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 1 model types with 1 total versions
2025-08-06 01:13:07 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:13:07 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:13:07 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:13:07 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:13:07 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:13:07 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:13:07 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:15:28 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:15:28 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:15:28 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:17:17 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | validate_prediction_data:137 | Validating data: 100 rows Ã— 6 columns
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _log_validation_summary:430 | Data validation complete:
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _log_validation_summary:431 |   Quality Score: 75.5/100 (Fair)
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _log_validation_summary:432 |   Errors: 0
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _log_validation_summary:433 |   Warnings: 4
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _log_validation_summary:434 |   Missing Data: 1.0%
2025-08-06 01:17:17 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Column 'sst': 1 values (1.0%) outside valid range [5.0, 25.0]
2025-08-06 01:17:17 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Column 'chlorophyll': 1 values (1.0%) outside valid range [0.1, 100.0]
2025-08-06 01:17:17 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Unrecognized sites: {'InvalidSite'}
2025-08-06 01:17:17 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Column 'chlorophyll' has many outliers: 11.0%
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | sanitize_data:462 | Sanitizing data...
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _handle_outliers:522 | Capped 1 outliers in column 'sst'
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _handle_outliers:522 | Capped 1 outliers in column 'chlorophyll'
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | _fill_missing_values:536 | Filled missing values in 'sst' with median: 14.719
2025-08-06 01:17:17 | forecasting.core.data_validation | INFO     | sanitize_data:476 | Data sanitization complete
2025-08-06 01:27:48 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:49 | main | INFO     | main:174 | Domoic Acid Forecasting System (Modular)
2025-08-06 01:27:49 | main | INFO     | main:175 | ==================================================
2025-08-06 01:27:49 | main | INFO     | main:176 | Version: Modular Architecture with Production Logging
2025-08-06 01:27:49 | main | INFO     | main:177 | Timestamp: 2025-08-06 01:27:49
2025-08-06 01:27:49 | main | INFO     | main:178 | ==================================================
2025-08-06 01:27:49 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:27:49 | __main__ | INFO     | _validate_config:63 | Loaded data: 10950 records across 10 sites
2025-08-06 01:27:49 | __main__ | INFO     | _validate_config:75 | Configuration validated successfully
2025-08-06 01:27:49 | __main__ | INFO     | _validate_config:76 | Mode: retrospective
2025-08-06 01:27:49 | __main__ | INFO     | _validate_config:77 | Task: regression
2025-08-06 01:27:49 | __main__ | INFO     | _validate_config:78 | Model: xgboost (XGBoost)
2025-08-06 01:27:49 | __main__ | INFO     | run_retrospective_evaluation:87 | Starting retrospective evaluation with 200 random anchors
2025-08-06 01:27:49 | __main__ | INFO     | run_retrospective_evaluation:88 | Temporal buffer: 1 days
2025-08-06 01:27:49 | __main__ | INFO     | run_retrospective_evaluation:89 | Minimum training samples: 3
2025-08-06 01:27:49 | forecasting.core.forecast_engine | INFO     | run_retrospective_evaluation:96 | Starting LEAK-FREE regression evaluation with xgboost model
2025-08-06 01:27:49 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 10,950 rows Ã— 19 columns
2025-08-06 01:27:51 | datect.pipeline | INFO     | log_data_pipeline_stage:169 | âœ“ Anchor Point Generation | Data size: 2000 | 2000 temporal anchor points across 10 sites
2025-08-06 01:27:51 | forecasting.core.forecast_engine | INFO     | run_retrospective_evaluation:155 | Processing 2000 anchor points in parallel
2025-08-06 01:27:53 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:53 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:27:54 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:28:49 | datect.pipeline | INFO     | log_data_pipeline_stage:169 | âœ“ Forecast Generation | Data: 2,000 rows Ã— 6 cols | Generated 2000 successful forecasts from 2000 attempts
2025-08-06 01:28:49 | forecasting.core.forecast_engine | INFO     | _display_evaluation_metrics:419 | Evaluating performance on 2000 forecasts
2025-08-06 01:28:49 | datect.model | INFO     | log_model_performance:189 | Model Performance: xgboost Regression (n=2,000)
2025-08-06 01:28:49 | datect.model | INFO     | log_model_performance:193 |   RÂ²: 0.6236
2025-08-06 01:28:49 | datect.model | INFO     | log_model_performance:193 |   MAE: 4.5010
2025-08-06 01:28:49 | datect.model | INFO     | log_model_performance:193 |   RMSE: 11.1897
2025-08-06 01:28:49 | datect.model | INFO     | log_model_performance:193 |   Mean Residual: 0.1653
2025-08-06 01:28:49 | datect.model | INFO     | log_model_performance:193 |   Residual Std: 11.1885
2025-08-06 01:28:49 | forecasting.core.forecast_engine | INFO     | _display_evaluation_metrics:454 | Performing comprehensive residual analysis for model validation
2025-08-06 01:29:10 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:575 | Regression Model Diagnostics Summary:
2025-08-06 01:29:10 | forecasting.core.forecast_engine | WARNING  | _print_regression_diagnostics:583 | âš  Residuals deviate from normality (Shapiro-Wilk p=0.0000)
2025-08-06 01:29:10 | forecasting.core.forecast_engine | WARNING  | _print_regression_diagnostics:591 | âš  Heteroscedasticity detected (White's test p=0.0000)
2025-08-06 01:29:10 | forecasting.core.forecast_engine | WARNING  | _print_regression_diagnostics:599 | âš  Model shows some bias (mean residual = 0.1653)
2025-08-06 01:29:10 | forecasting.core.forecast_engine | WARNING  | _print_regression_diagnostics:608 | âš  Residuals show skewness (skewness = 4.767)
2025-08-06 01:29:10 | forecasting.core.forecast_engine | WARNING  | _print_regression_diagnostics:613 | âš  Heavy-tailed residual distribution (kurtosis = 67.616)
2025-08-06 01:29:10 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:615 | Detailed residual plots saved to: ./evaluation_plots/
2025-08-06 01:29:10 | forecasting.core.forecast_engine | INFO     | _print_regression_diagnostics:616 | Publication-ready model validation plots generated
2025-08-06 01:29:10 | __main__ | INFO     | run_retrospective_evaluation:102 | Generated 2000 forecasts successfully
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:128 | ============================================================
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:129 | FORECASTING EVALUATION RESULTS
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:130 | ============================================================
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:158 | FORECASTS BY SITE:
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Cannon Beach: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Coos Bay: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Kalaloch: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Clatsop Beach: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Gold Beach: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Newport: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Copalis: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Twin Harbors: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Quinault: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:160 |   Long Beach: 200
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:162 | ============================================================
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:163 | All forecasts generated with temporal safeguards
2025-08-06 01:29:10 | __main__ | INFO     | _display_evaluation_metrics:164 | ============================================================
2025-08-06 01:29:10 | __main__ | INFO     | run_retrospective_evaluation:108 | Launching retrospective dashboard on port 8071...
2025-08-06 01:29:10 | dash.dash | INFO     | run:2160 | Dash is running on http://127.0.0.1:8071/

2025-08-06 01:29:10 | werkzeug | INFO     | _log:97 | [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8071
2025-08-06 01:29:10 | werkzeug | INFO     | _log:97 | [33mPress CTRL+C to quit[0m
2025-08-06 01:29:28 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:28] "GET / HTTP/1.1" 200 -
2025-08-06 01:29:29 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:29] "GET /_dash-layout HTTP/1.1" 200 -
2025-08-06 01:29:29 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:29] "GET /_dash-dependencies HTTP/1.1" 200 -
2025-08-06 01:29:29 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:29] "[36mGET /_dash-component-suites/dash/dcc/async-dropdown.js HTTP/1.1[0m" 304 -
2025-08-06 01:29:29 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:29] "[36mGET /_dash-component-suites/dash/dcc/async-graph.js HTTP/1.1[0m" 304 -
2025-08-06 01:29:29 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:29] "[36mGET /_dash-component-suites/plotly/package_data/plotly.min.js HTTP/1.1[0m" 304 -
2025-08-06 01:29:29 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:29] "POST /_dash-update-component HTTP/1.1" 200 -
2025-08-06 01:29:35 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:35] "POST /_dash-update-component HTTP/1.1" 200 -
2025-08-06 01:29:42 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:42] "POST /_dash-update-component HTTP/1.1" 200 -
2025-08-06 01:29:51 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:51] "POST /_dash-update-component HTTP/1.1" 200 -
2025-08-06 01:29:56 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:56] "POST /_dash-update-component HTTP/1.1" 200 -
2025-08-06 01:29:59 | werkzeug | INFO     | _log:97 | 127.0.0.1 - - [06/Aug/2025 01:29:59] "POST /_dash-update-component HTTP/1.1" 200 -
2025-08-06 01:42:10 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:42:10 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:42:10 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:42:36 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:42:37 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:42:37 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:42:37 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 01:42:37 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 01:42:37 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 01:42:37 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 01:42:37 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 01:42:37 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 01:42:37 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 01:42:37 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 01:42:37 | __main__ | ERROR    | main:82 | Failed to start API service: No module named 'forecasting.core.health_monitoring'
2025-08-06 01:42:37 | __main__ | ERROR    | main:83 | Startup error details:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/run_api_service.py", line 73, in main
    from forecasting.api.service import run_api_server
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 39, in <module>
    from ..core.health_monitoring import HealthMonitor
ModuleNotFoundError: No module named 'forecasting.core.health_monitoring'
2025-08-06 01:43:29 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:43:29 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:43:29 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:43:29 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 01:43:29 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 01:43:29 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 01:43:29 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 01:43:29 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 01:43:29 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 01:43:29 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 01:43:29 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 01:43:29 | __main__ | ERROR    | main:82 | Failed to start API service: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.10/u/root-validator-pre-skip
2025-08-06 01:43:29 | __main__ | ERROR    | main:83 | Startup error details:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/run_api_service.py", line 73, in main
    from forecasting.api.service import run_api_server
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 44, in <module>
    from .models import (
    ...<2 lines>...
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/models.py", line 30, in <module>
    class PredictionInputData(BaseModel):
    ...<122 lines>...
            return values
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/models.py", line 144, in PredictionInputData
    @root_validator
     ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/deprecated/class_validators.py", line 234, in root_validator
    return root_validator()(*__args)  # type: ignore
           ~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/deprecated/class_validators.py", line 240, in root_validator
    raise PydanticUserError(
    ...<3 lines>...
    )
pydantic.errors.PydanticUserError: If you use `@root_validator` with pre=False (the default) you MUST specify `skip_on_failure=True`. Note that `@root_validator` is deprecated and should be replaced with `@model_validator`.

For further information visit https://errors.pydantic.dev/2.10/u/root-validator-pre-skip
2025-08-06 01:44:17 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:44:18 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:44:18 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:44:18 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 01:44:18 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 01:44:18 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 01:44:18 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 01:44:18 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 01:44:18 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 01:44:18 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 01:44:18 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 01:44:18 | __main__ | ERROR    | main:82 | Failed to start API service: constr() got an unexpected keyword argument 'regex'
2025-08-06 01:44:18 | __main__ | ERROR    | main:83 | Startup error details:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/run_api_service.py", line 73, in main
    from forecasting.api.service import run_api_server
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 44, in <module>
    from .models import (
    ...<2 lines>...
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/models.py", line 156, in <module>
    class PredictionRequest(BaseModel):
    ...<115 lines>...
            }
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/models.py", line 160, in PredictionRequest
    model_name: constr(regex=r'^[a-zA-Z0-9_-]+$') = Field(
                ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: constr() got an unexpected keyword argument 'regex'
2025-08-06 01:44:55 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:44:55 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:44:55 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:44:55 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 01:44:55 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 01:44:55 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 01:44:55 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 01:44:55 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 01:44:55 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 01:44:55 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 01:44:55 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 01:44:55 | __main__ | ERROR    | main:82 | Failed to start API service: name 'root_validator' is not defined
2025-08-06 01:44:55 | __main__ | ERROR    | main:83 | Startup error details:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/run_api_service.py", line 73, in main
    from forecasting.api.service import run_api_server
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 44, in <module>
    from .models import (
    ...<2 lines>...
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/models.py", line 157, in <module>
    class PredictionRequest(BaseModel):
    ...<115 lines>...
            }
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/models.py", line 238, in PredictionRequest
    @root_validator
     ^^^^^^^^^^^^^^
NameError: name 'root_validator' is not defined. Did you mean: 'model_validator'?
2025-08-06 01:45:41 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:45:41 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:45:41 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:45:41 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 01:45:41 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 01:45:41 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 01:45:41 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 01:45:41 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 01:45:41 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 01:45:41 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 01:45:41 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 01:45:42 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 01:45:42 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:45:43 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:45:43 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:45:43 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:45:43 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:45:43 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:45:43 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x1331d5940>
2025-08-06 01:45:43 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:45:43 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:45:43 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:45:43 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:45:43 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:45:43 | forecasting.api.service | ERROR    | startup_event:148 | Startup failed: 'HealthMonitor' object has no attribute 'register_health_check'
2025-08-06 01:45:43 | forecasting.api.service | ERROR    | startup_event:149 | Startup traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 138, in startup_event
    health_monitor.register_health_check('forecast_engine', _check_forecast_engine_health)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'register_health_check'

2025-08-06 01:47:49 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:47:50 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:47:50 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:47:50 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x163dd1a90>
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:47:50 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:47:50 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:47:50 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:47:50 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:47:50 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:47:57 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:47:58 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:47:58 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:47:58 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 01:47:58 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 01:47:58 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 01:47:58 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 01:47:58 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 01:47:58 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 01:47:58 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 01:47:58 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 01:47:58 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 01:48:17 | forecasting.api.service | ERROR    | health_check:650 | Health check failed: 'HealthMonitor' object has no attribute 'get_system_health'
2025-08-06 01:48:17 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 01:48:17 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 633, in health_check
    health_status = health_monitor.get_system_health(include_details=True)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_system_health'. Did you mean: 'get_system_metrics'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 655, in health_check
    health_monitor.record_api_request(processing_time, 503)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 01:48:38 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:48:39 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:48:39 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:48:47 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:48:58 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:48:58 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:48:58 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:48:58 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:50:27 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:50:28 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:50:28 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:54:37 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 01:54:38 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:54:39 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:54:39 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:54:39 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x139ed5940>
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:54:39 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:54:39 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:54:39 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:54:39 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:54:39 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:56:07 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:56:13 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:56:22 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 01:56:23 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:56:24 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:56:24 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:56:24 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x15bbd5940>
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:56:24 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:56:24 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:56:24 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:56:24 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:56:24 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:56:36 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 01:56:37 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:56:37 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:56:37 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:56:37 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x15c6d5940>
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:56:37 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:56:37 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:56:37 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:56:37 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:56:37 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:57:10 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 01:57:11 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:11 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:57:11 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:57:11 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x11ded5940>
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:57:11 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:57:11 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:57:11 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:57:11 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:57:11 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:57:15 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:20 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:26 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 01:57:26 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:27 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:57:27 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:57:27 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x1256d5940>
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:57:27 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:57:27 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:57:27 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:57:27 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:57:27 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:57:30 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:127 | ================================================================================
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:128 | DATect Scientific Validation Suite
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:129 | ================================================================================
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:130 | Output directory: test_validation
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:131 | Model type: xgboost
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:132 | Task: regression
2025-08-06 01:57:30 | __main__ | INFO     | setup_validation_environment:133 | Tests to run: temporal
2025-08-06 01:57:30 | __main__ | INFO     | main:370 | ðŸš€ Initializing Scientific Validator...
2025-08-06 01:57:30 | __main__ | INFO     | run_temporal_validation:140 | ðŸ” Running Temporal Validation Tests...
2025-08-06 01:57:30 | __main__ | INFO     | run_temporal_validation:148 |    â†’ Loaded data: 10950 samples for validation
2025-08-06 01:57:30 | __main__ | ERROR    | run_temporal_validation:162 |    â†’ Temporal validation failed: unsupported operand type(s) for -: 'str' and 'str'
2025-08-06 01:57:30 | __main__ | INFO     | run_temporal_validation:171 | âœ… Temporal validation completed. Results saved to test_validation/temporal_validation_results.json
2025-08-06 01:57:30 | __main__ | INFO     | generate_validation_report:305 | ðŸ“‹ Generating Comprehensive Validation Report...
2025-08-06 01:57:30 | __main__ | INFO     | generate_validation_report:354 | âœ… Validation report generated: test_validation/comprehensive_validation_report.json
2025-08-06 01:57:30 | __main__ | INFO     | generate_validation_report:355 | âœ… Human-readable summary: test_validation/validation_summary.txt
2025-08-06 01:57:30 | __main__ | INFO     | main:398 | ================================================================================
2025-08-06 01:57:30 | __main__ | INFO     | main:399 | ðŸŽ‰ Validation Suite Complete!
2025-08-06 01:57:30 | __main__ | INFO     | main:400 | ================================================================================
2025-08-06 01:57:30 | __main__ | INFO     | main:401 | Overall Status: FAILED
2025-08-06 01:57:30 | __main__ | INFO     | main:402 | Tests Completed: 1
2025-08-06 01:57:30 | __main__ | INFO     | main:403 | Results Directory: test_validation
2025-08-06 01:57:30 | __main__ | ERROR    | main:409 | âŒ Some validation tests failed - Review results for issues
2025-08-06 01:57:44 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 01:57:45 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:46 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 01:57:46 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 01:57:46 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x13b6d9940>
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 01:57:46 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 01:57:46 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 01:57:46 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 01:57:46 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 01:57:46 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 01:57:49 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:127 | ================================================================================
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:128 | DATect Scientific Validation Suite
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:129 | ================================================================================
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:130 | Output directory: final_validation
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:131 | Model type: xgboost
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:132 | Task: regression
2025-08-06 01:57:49 | __main__ | INFO     | setup_validation_environment:133 | Tests to run: all
2025-08-06 01:57:49 | __main__ | INFO     | main:373 | ðŸš€ Initializing Scientific Validator...
2025-08-06 01:57:49 | __main__ | INFO     | run_temporal_validation:140 | ðŸ” Running Temporal Validation Tests...
2025-08-06 01:57:49 | __main__ | INFO     | run_temporal_validation:148 |    â†’ Loaded data: 10950 samples for validation
2025-08-06 01:57:49 | __main__ | INFO     | run_temporal_validation:157 |    â†’ Average time gap between samples: 0 days 16:47:10.285870855
2025-08-06 01:57:49 | __main__ | INFO     | run_temporal_validation:174 | âœ… Temporal validation completed. Results saved to final_validation/temporal_validation_results.json
2025-08-06 01:57:49 | __main__ | INFO     | run_performance_validation:180 | ðŸ“Š Running Performance Validation Tests...
2025-08-06 01:57:49 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 01:57:49 | __main__ | INFO     | run_performance_validation:188 |    â†’ ForecastEngine initialized successfully
2025-08-06 01:57:49 | __main__ | INFO     | run_performance_validation:193 |    â†’ Training data available: 10950 samples
2025-08-06 01:57:49 | __main__ | INFO     | run_performance_validation:209 | âœ… Performance validation completed. Results saved to final_validation/performance_validation_results.json
2025-08-06 01:57:49 | __main__ | INFO     | run_statistical_validation:215 | ðŸ“ˆ Running Statistical Validation Tests...
2025-08-06 01:57:49 | __main__ | INFO     | run_statistical_validation:225 |    â†’ Loaded data for analysis: 10950 samples
2025-08-06 01:57:49 | __main__ | INFO     | run_statistical_validation:230 |    â†’ DA concentration stats: mean=9.380, std=21.122
2025-08-06 01:57:49 | __main__ | INFO     | run_statistical_validation:234 |    â†’ Running autocorrelation analysis
2025-08-06 01:57:49 | forecasting.core.exception_handling | WARNING  | safe_execute:114 | Attempt 1 failed: <lambda>: run_statistical_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:49 | forecasting.core.exception_handling | INFO     | safe_execute:115 | Retrying in 1.0 seconds...
2025-08-06 01:57:50 | forecasting.core.exception_handling | WARNING  | safe_execute:114 | Attempt 2 failed: <lambda>: run_statistical_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:50 | forecasting.core.exception_handling | INFO     | safe_execute:115 | Retrying in 1.0 seconds...
2025-08-06 01:57:51 | forecasting.core.exception_handling | WARNING  | safe_execute:114 | Attempt 3 failed: <lambda>: run_statistical_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:51 | forecasting.core.exception_handling | INFO     | safe_execute:115 | Retrying in 1.0 seconds...
2025-08-06 01:57:52 | forecasting.core.exception_handling | ERROR    | safe_execute:118 | All 4 attempts failed: <lambda>: run_statistical_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:52 | forecasting.core.exception_handling | ERROR    | safe_execute:121 | Returning fallback value after 4 failures
2025-08-06 01:57:52 | __main__ | INFO     | run_statistical_validation:251 | âœ… Statistical validation completed. Results saved to final_validation/statistical_validation_results.json
2025-08-06 01:57:52 | __main__ | INFO     | run_feature_validation:257 | ðŸ”§ Running Feature Validation Tests...
2025-08-06 01:57:52 | __main__ | INFO     | run_feature_validation:267 |    â†’ Loaded data for feature analysis: 10950 samples
2025-08-06 01:57:52 | __main__ | INFO     | run_feature_validation:271 |    â†’ Found 15 numeric features
2025-08-06 01:57:52 | __main__ | INFO     | run_feature_validation:278 |    â†’ Features with missing values: 4
2025-08-06 01:57:52 | __main__ | INFO     | run_feature_validation:285 |    â†’ Running imputation method comparison
2025-08-06 01:57:52 | forecasting.core.exception_handling | WARNING  | safe_execute:114 | Attempt 1 failed: <lambda>: run_feature_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:52 | forecasting.core.exception_handling | INFO     | safe_execute:115 | Retrying in 1.0 seconds...
2025-08-06 01:57:53 | forecasting.core.exception_handling | WARNING  | safe_execute:114 | Attempt 2 failed: <lambda>: run_feature_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:53 | forecasting.core.exception_handling | INFO     | safe_execute:115 | Retrying in 1.0 seconds...
2025-08-06 01:57:54 | forecasting.core.exception_handling | WARNING  | safe_execute:114 | Attempt 3 failed: <lambda>: run_feature_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:54 | forecasting.core.exception_handling | INFO     | safe_execute:115 | Retrying in 1.0 seconds...
2025-08-06 01:57:55 | forecasting.core.exception_handling | ERROR    | safe_execute:118 | All 4 attempts failed: <lambda>: run_feature_validation.<locals>.<lambda>() takes 0 positional arguments but 1 was given
2025-08-06 01:57:55 | forecasting.core.exception_handling | ERROR    | safe_execute:121 | Returning fallback value after 4 failures
2025-08-06 01:57:55 | __main__ | INFO     | run_feature_validation:302 | âœ… Feature validation completed. Results saved to final_validation/feature_validation_results.json
2025-08-06 01:57:55 | __main__ | INFO     | generate_validation_report:308 | ðŸ“‹ Generating Comprehensive Validation Report...
2025-08-06 01:57:55 | __main__ | INFO     | generate_validation_report:357 | âœ… Validation report generated: final_validation/comprehensive_validation_report.json
2025-08-06 01:57:55 | __main__ | INFO     | generate_validation_report:358 | âœ… Human-readable summary: final_validation/validation_summary.txt
2025-08-06 01:57:55 | __main__ | INFO     | main:401 | ================================================================================
2025-08-06 01:57:55 | __main__ | INFO     | main:402 | ðŸŽ‰ Validation Suite Complete!
2025-08-06 01:57:55 | __main__ | INFO     | main:403 | ================================================================================
2025-08-06 01:57:55 | __main__ | INFO     | main:404 | Overall Status: PASSED
2025-08-06 01:57:55 | __main__ | INFO     | main:405 | Tests Completed: 4
2025-08-06 01:57:55 | __main__ | INFO     | main:406 | Results Directory: final_validation
2025-08-06 01:57:55 | __main__ | INFO     | main:409 | âœ… All validation tests passed - System is scientifically sound!
2025-08-06 01:58:29 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 01:58:30 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:02:46 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:02:46 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:02:46 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:02:46 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:02:46 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:02:46 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:02:46 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:02:46 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:02:46 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:02:46 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:02:46 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:02:47 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:02:57 | forecasting.api.service | ERROR    | health_check:650 | Health check failed: 'HealthMonitor' object has no attribute 'get_system_health'
2025-08-06 02:02:57 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:02:57 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 633, in health_check
    health_status = health_monitor.get_system_health(include_details=True)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_system_health'. Did you mean: 'get_system_metrics'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 655, in health_check
    health_monitor.record_api_request(processing_time, 503)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:02:57 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 02:02:57 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 02:02:57 | forecasting.api.service | ERROR    | get_metrics:1007 | Metrics endpoint failed: 'HealthMonitor' object has no attribute 'get_metrics_summary'
2025-08-06 02:02:57 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: Object of type datetime is not JSON serializable
2025-08-06 02:02:57 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 990, in get_metrics
    metrics = health_monitor.get_metrics_summary()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_metrics_summary'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1008, in get_metrics
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: Failed to retrieve metrics

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1065, in http_exception_handler
    return JSONResponse(
        status_code=exc.status_code,
    ...<4 lines>...
        ).dict()
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable

2025-08-06 02:03:27 | forecasting.api.service | ERROR    | health_check:650 | Health check failed: 'HealthMonitor' object has no attribute 'get_system_health'
2025-08-06 02:03:27 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:03:27 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 633, in health_check
    health_status = health_monitor.get_system_health(include_details=True)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_system_health'. Did you mean: 'get_system_metrics'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 655, in health_check
    health_monitor.record_api_request(processing_time, 503)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:03:57 | forecasting.api.service | ERROR    | health_check:650 | Health check failed: 'HealthMonitor' object has no attribute 'get_system_health'
2025-08-06 02:03:57 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:03:57 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 633, in health_check
    health_status = health_monitor.get_system_health(include_details=True)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_system_health'. Did you mean: 'get_system_metrics'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 655, in health_check
    health_monitor.record_api_request(processing_time, 503)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:04:27 | forecasting.api.service | ERROR    | health_check:650 | Health check failed: 'HealthMonitor' object has no attribute 'get_system_health'
2025-08-06 02:04:27 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:04:27 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 633, in health_check
    health_status = health_monitor.get_system_health(include_details=True)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_system_health'. Did you mean: 'get_system_metrics'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 655, in health_check
    health_monitor.record_api_request(processing_time, 503)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:05:03 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:05:04 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:05:04 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:05:04 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:05:04 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:05:04 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:05:04 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:05:04 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:05:04 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:05:04 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:05:04 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:05:04 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:05:12 | forecasting.api.service | ERROR    | health_check:650 | Health check failed: 'HealthMonitor' object has no attribute 'get_system_health'
2025-08-06 02:05:12 | forecasting.api.service | ERROR    | general_exception_handler:1078 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:05:12 | forecasting.api.service | ERROR    | general_exception_handler:1079 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 633, in health_check
    health_status = health_monitor.get_system_health(include_details=True)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_system_health'. Did you mean: 'get_system_metrics'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 655, in health_check
    health_monitor.record_api_request(processing_time, 503)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:05:12 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 02:05:12 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 02:05:42 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 02:05:43 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:05:44 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:05:44 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 02:05:44 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x1618d1a90>
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 02:05:44 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 02:05:44 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 02:05:44 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 02:05:44 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 02:05:44 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 02:05:50 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 02:05:51 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:05:52 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:05:52 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 02:05:52 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x1301d1a90>
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 02:05:52 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 02:05:52 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 02:05:52 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 02:05:52 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 02:05:52 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 02:06:08 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 02:06:09 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:06:10 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:06:10 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 02:06:10 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x132ed1a90>
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 02:06:10 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 02:06:10 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 02:06:10 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 0 model types with 0 total versions
2025-08-06 02:06:10 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 0 model types:
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:142 | Found 0 model types available
2025-08-06 02:06:10 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 02:06:22 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:06:33 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:06:41 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:07:04 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:07:04 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:07:16 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:07:16 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:07:35 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:07:35 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:07:52 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | _save_model_components:321 | Saved 3 model components
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | _create_model_backup:405 | Model backup created: model_backups/api_demo_ridge_vv1.0_20250806_020752
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | save_model:106 | Model saved successfully: model_artifacts/api_demo_ridge_vv1.0
2025-08-06 02:07:52 | forecasting.core.forecast_engine | INFO     | save_trained_model:662 | Model saved successfully: api_demo_ridge -> model_artifacts/api_demo_ridge_vv1.0
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | _save_model_components:321 | Saved 3 model components
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | _create_model_backup:405 | Model backup created: model_backups/api_demo_logistic_vv1.0_20250806_020752
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | save_model:106 | Model saved successfully: model_artifacts/api_demo_logistic_vv1.0
2025-08-06 02:07:52 | forecasting.core.forecast_engine | INFO     | save_trained_model:662 | Model saved successfully: api_demo_logistic -> model_artifacts/api_demo_logistic_vv1.0
2025-08-06 02:07:52 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:07:52 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 2 model types:
2025-08-06 02:07:52 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_ridge: 1 versions
2025-08-06 02:07:52 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_logistic: 1 versions
2025-08-06 02:08:05 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:08:06 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:08:06 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:08:06 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:08:06 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:08:06 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:08:06 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:08:06 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:08:06 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:08:06 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:08:06 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:08:06 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:08:17 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>
2025-08-06 02:08:17 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 182, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat.py", line 152, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 527, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<10 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>

2025-08-06 02:08:18 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:08:18 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 2 model types:
2025-08-06 02:08:18 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_ridge: 1 versions
2025-08-06 02:08:18 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_logistic: 1 versions
2025-08-06 02:08:31 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>
2025-08-06 02:08:31 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 182, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat.py", line 152, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 527, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<10 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>

2025-08-06 02:08:34 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>
2025-08-06 02:08:34 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 182, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat.py", line 152, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 527, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<10 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>

2025-08-06 02:08:35 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:08:35 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 2 model types:
2025-08-06 02:08:35 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_ridge: 1 versions
2025-08-06 02:08:35 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_logistic: 1 versions
2025-08-06 02:08:35 | forecasting.api.service | ERROR    | get_metrics:1039 | Metrics endpoint failed: 'HealthMonitor' object has no attribute 'get_metrics_summary'
2025-08-06 02:08:35 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Object of type datetime is not JSON serializable
2025-08-06 02:08:35 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1022, in get_metrics
    metrics = health_monitor.get_metrics_summary()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_metrics_summary'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1040, in get_metrics
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: Failed to retrieve metrics

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1097, in http_exception_handler
    return JSONResponse(
        status_code=exc.status_code,
    ...<4 lines>...
        ).dict()
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable

2025-08-06 02:08:42 | forecasting.api.service | INFO     | predict:726 | Prediction request: model=api_demo_ridge, records=1
2025-08-06 02:08:42 | forecasting.core.data_validation | INFO     | validate_prediction_data:137 | Validating data: 1 rows Ã— 16 columns
2025-08-06 02:08:42 | forecasting.core.data_validation | INFO     | _log_validation_summary:430 | Data validation complete:
2025-08-06 02:08:42 | forecasting.core.data_validation | INFO     | _log_validation_summary:431 |   Quality Score: 95.0/100 (Excellent)
2025-08-06 02:08:42 | forecasting.core.data_validation | INFO     | _log_validation_summary:432 |   Errors: 0
2025-08-06 02:08:42 | forecasting.core.data_validation | INFO     | _log_validation_summary:433 |   Warnings: 1
2025-08-06 02:08:42 | forecasting.core.data_validation | INFO     | _log_validation_summary:434 |   Missing Data: 0.0%
2025-08-06 02:08:42 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}
2025-08-06 02:08:42 | forecasting.api.service | WARNING  | predict:740 | Prediction data validation warnings: ['Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}']
2025-08-06 02:08:42 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:08:42 | forecasting.core.model_persistence | INFO     | load_model:150 | Model loaded successfully: api_demo_ridge vv1.0
2025-08-06 02:08:42 | forecasting.core.forecast_engine | INFO     | load_trained_model:684 | Model loaded successfully: api_demo_ridge vlatest
2025-08-06 02:08:42 | forecasting.core.forecast_engine | INFO     | load_trained_model:685 | Model trained on None samples
2025-08-06 02:08:42 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   r2_score: 0.7500
2025-08-06 02:08:42 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   mae: 0.1500
2025-08-06 02:08:42 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   rmse: 0.2200
2025-08-06 02:08:42 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 1 rows Ã— 16 columns
2025-08-06 02:08:42 | forecasting.core.forecast_engine | ERROR    | predict_with_saved_model:780 | Prediction failed with saved model: setting an array element with a sequence.
2025-08-06 02:08:42 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:08:42 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
TypeError: float() argument must be a string or a real number, not 'tuple'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 773, in predict_with_saved_model
    predictions = model.predict(processed_data)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 297, in predict
    return self._decision_function(X)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 276, in _decision_function
    X = validate_data(self, X, accept_sparse=["csr", "csc", "coo"], reset=False)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pandas/core/generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
ValueError: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 743, in predict
    predictions = forecast_engine.predict_with_saved_model(
        model_name=request.model_name,
        data=df_input,
        version=request.model_version
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 781, in predict_with_saved_model
    raise ModelError(f"Prediction failed: {str(e)}",
                   error_code="PREDICTION_FAILED")
forecasting.core.exception_handling.ModelError: Prediction failed: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 786, in predict
    health_monitor.record_api_request(processing_time, 400)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:08:45 | forecasting.api.service | INFO     | predict:726 | Prediction request: model=api_demo_ridge, records=1
2025-08-06 02:08:45 | forecasting.core.data_validation | INFO     | validate_prediction_data:137 | Validating data: 1 rows Ã— 16 columns
2025-08-06 02:08:45 | forecasting.core.data_validation | INFO     | _log_validation_summary:430 | Data validation complete:
2025-08-06 02:08:45 | forecasting.core.data_validation | INFO     | _log_validation_summary:431 |   Quality Score: 95.0/100 (Excellent)
2025-08-06 02:08:45 | forecasting.core.data_validation | INFO     | _log_validation_summary:432 |   Errors: 0
2025-08-06 02:08:45 | forecasting.core.data_validation | INFO     | _log_validation_summary:433 |   Warnings: 1
2025-08-06 02:08:45 | forecasting.core.data_validation | INFO     | _log_validation_summary:434 |   Missing Data: 0.0%
2025-08-06 02:08:45 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}
2025-08-06 02:08:45 | forecasting.api.service | WARNING  | predict:740 | Prediction data validation warnings: ['Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}']
2025-08-06 02:08:45 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:08:45 | forecasting.core.model_persistence | INFO     | load_model:150 | Model loaded successfully: api_demo_ridge vv1.0
2025-08-06 02:08:45 | forecasting.core.forecast_engine | INFO     | load_trained_model:684 | Model loaded successfully: api_demo_ridge vlatest
2025-08-06 02:08:45 | forecasting.core.forecast_engine | INFO     | load_trained_model:685 | Model trained on None samples
2025-08-06 02:08:45 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   r2_score: 0.7500
2025-08-06 02:08:45 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   mae: 0.1500
2025-08-06 02:08:45 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   rmse: 0.2200
2025-08-06 02:08:45 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 1 rows Ã— 16 columns
2025-08-06 02:08:45 | forecasting.core.forecast_engine | ERROR    | predict_with_saved_model:780 | Prediction failed with saved model: setting an array element with a sequence.
2025-08-06 02:08:45 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:08:45 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
TypeError: float() argument must be a string or a real number, not 'tuple'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 773, in predict_with_saved_model
    predictions = model.predict(processed_data)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 297, in predict
    return self._decision_function(X)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 276, in _decision_function
    X = validate_data(self, X, accept_sparse=["csr", "csc", "coo"], reset=False)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pandas/core/generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
ValueError: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 743, in predict
    predictions = forecast_engine.predict_with_saved_model(
        model_name=request.model_name,
        data=df_input,
        version=request.model_version
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 781, in predict_with_saved_model
    raise ModelError(f"Prediction failed: {str(e)}",
                   error_code="PREDICTION_FAILED")
forecasting.core.exception_handling.ModelError: Prediction failed: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 786, in predict
    health_monitor.record_api_request(processing_time, 400)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:08:48 | forecasting.api.service | INFO     | predict:726 | Prediction request: model=api_demo_logistic, records=1
2025-08-06 02:08:48 | forecasting.core.data_validation | INFO     | validate_prediction_data:137 | Validating data: 1 rows Ã— 16 columns
2025-08-06 02:08:48 | forecasting.core.data_validation | INFO     | _log_validation_summary:430 | Data validation complete:
2025-08-06 02:08:48 | forecasting.core.data_validation | INFO     | _log_validation_summary:431 |   Quality Score: 95.0/100 (Excellent)
2025-08-06 02:08:48 | forecasting.core.data_validation | INFO     | _log_validation_summary:432 |   Errors: 0
2025-08-06 02:08:48 | forecasting.core.data_validation | INFO     | _log_validation_summary:433 |   Warnings: 1
2025-08-06 02:08:48 | forecasting.core.data_validation | INFO     | _log_validation_summary:434 |   Missing Data: 0.0%
2025-08-06 02:08:48 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}
2025-08-06 02:08:48 | forecasting.api.service | WARNING  | predict:740 | Prediction data validation warnings: ['Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}']
2025-08-06 02:08:48 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:08:48 | forecasting.core.model_persistence | INFO     | load_model:150 | Model loaded successfully: api_demo_logistic vv1.0
2025-08-06 02:08:48 | forecasting.core.forecast_engine | INFO     | load_trained_model:684 | Model loaded successfully: api_demo_logistic vlatest
2025-08-06 02:08:48 | forecasting.core.forecast_engine | INFO     | load_trained_model:685 | Model trained on None samples
2025-08-06 02:08:48 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   accuracy: 0.8200
2025-08-06 02:08:48 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   f1_score: 0.7900
2025-08-06 02:08:48 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 1 rows Ã— 16 columns
2025-08-06 02:08:48 | forecasting.core.forecast_engine | ERROR    | predict_with_saved_model:780 | Prediction failed with saved model: setting an array element with a sequence.
2025-08-06 02:08:48 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:08:48 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
TypeError: float() argument must be a string or a real number, not 'tuple'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 773, in predict_with_saved_model
    predictions = model.predict(processed_data)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 374, in predict
    scores = self.decision_function(X)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 351, in decision_function
    X = validate_data(self, X, accept_sparse="csr", reset=False)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pandas/core/generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
ValueError: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 743, in predict
    predictions = forecast_engine.predict_with_saved_model(
        model_name=request.model_name,
        data=df_input,
        version=request.model_version
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 781, in predict_with_saved_model
    raise ModelError(f"Prediction failed: {str(e)}",
                   error_code="PREDICTION_FAILED")
forecasting.core.exception_handling.ModelError: Prediction failed: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 786, in predict
    health_monitor.record_api_request(processing_time, 400)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:08:51 | forecasting.api.service | INFO     | predict:726 | Prediction request: model=api_demo_logistic, records=1
2025-08-06 02:08:51 | forecasting.core.data_validation | INFO     | validate_prediction_data:137 | Validating data: 1 rows Ã— 16 columns
2025-08-06 02:08:51 | forecasting.core.data_validation | INFO     | _log_validation_summary:430 | Data validation complete:
2025-08-06 02:08:51 | forecasting.core.data_validation | INFO     | _log_validation_summary:431 |   Quality Score: 95.0/100 (Excellent)
2025-08-06 02:08:51 | forecasting.core.data_validation | INFO     | _log_validation_summary:432 |   Errors: 0
2025-08-06 02:08:51 | forecasting.core.data_validation | INFO     | _log_validation_summary:433 |   Warnings: 1
2025-08-06 02:08:51 | forecasting.core.data_validation | INFO     | _log_validation_summary:434 |   Missing Data: 0.0%
2025-08-06 02:08:51 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}
2025-08-06 02:08:51 | forecasting.api.service | WARNING  | predict:740 | Prediction data validation warnings: ['Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}']
2025-08-06 02:08:51 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:08:51 | forecasting.core.model_persistence | INFO     | load_model:150 | Model loaded successfully: api_demo_logistic vv1.0
2025-08-06 02:08:51 | forecasting.core.forecast_engine | INFO     | load_trained_model:684 | Model loaded successfully: api_demo_logistic vlatest
2025-08-06 02:08:51 | forecasting.core.forecast_engine | INFO     | load_trained_model:685 | Model trained on None samples
2025-08-06 02:08:51 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   accuracy: 0.8200
2025-08-06 02:08:51 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   f1_score: 0.7900
2025-08-06 02:08:51 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 1 rows Ã— 16 columns
2025-08-06 02:08:51 | forecasting.core.forecast_engine | ERROR    | predict_with_saved_model:780 | Prediction failed with saved model: setting an array element with a sequence.
2025-08-06 02:08:51 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:08:51 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
TypeError: float() argument must be a string or a real number, not 'tuple'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 773, in predict_with_saved_model
    predictions = model.predict(processed_data)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 374, in predict
    scores = self.decision_function(X)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 351, in decision_function
    X = validate_data(self, X, accept_sparse="csr", reset=False)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pandas/core/generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
ValueError: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 743, in predict
    predictions = forecast_engine.predict_with_saved_model(
        model_name=request.model_name,
        data=df_input,
        version=request.model_version
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 781, in predict_with_saved_model
    raise ModelError(f"Prediction failed: {str(e)}",
                   error_code="PREDICTION_FAILED")
forecasting.core.exception_handling.ModelError: Prediction failed: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 786, in predict
    health_monitor.record_api_request(processing_time, 400)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:09:06 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>
2025-08-06 02:09:06 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 182, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat.py", line 152, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 527, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<10 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>

2025-08-06 02:09:27 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:09:28 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:09:28 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:09:28 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:09:28 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:09:28 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:09:28 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:09:28 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:09:28 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:09:28 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:09:28 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:09:28 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:09:37 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:09:38 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:09:38 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:09:38 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:09:38 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:09:38 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:09:38 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:09:38 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:09:38 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:09:38 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:09:38 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:09:38 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:10:05 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:10:05 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:10:05 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:10:05 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:10:05 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:10:05 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:10:05 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:10:05 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:10:05 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:10:05 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:10:05 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:10:05 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:12:33 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:12:34 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:12:34 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:12:34 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:12:34 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:12:34 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:12:34 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:12:34 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:12:34 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:12:34 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:12:34 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:12:34 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:12:44 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:12:44 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:12:44 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:12:44 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:12:44 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:12:44 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:12:44 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:12:44 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:12:44 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:12:44 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:12:44 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:12:44 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:13:32 | forecasting.api.service | INFO     | shutdown_event:154 | Shutting down DATect Prediction API
2025-08-06 02:14:00 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:14:00 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:14:00 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:14:00 | __main__ | INFO     | main:63 | ============================================================
2025-08-06 02:14:00 | __main__ | INFO     | main:64 | DATect Prediction API Service
2025-08-06 02:14:00 | __main__ | INFO     | main:65 | ============================================================
2025-08-06 02:14:00 | __main__ | INFO     | main:66 | Environment: development
2025-08-06 02:14:00 | __main__ | INFO     | main:67 | API Host: localhost:8000
2025-08-06 02:14:00 | __main__ | INFO     | main:68 | Debug Mode: True
2025-08-06 02:14:00 | __main__ | INFO     | main:69 | Log Level: info
2025-08-06 02:14:00 | __main__ | INFO     | main:70 | Model Artifacts: ./model_artifacts/
2025-08-06 02:14:01 | __main__ | INFO     | main:75 | Starting FastAPI server...
2025-08-06 02:14:01 | forecasting.core.logging_config | INFO     | <module>:231 | DATect logging system initialized
2025-08-06 02:14:02 | forecasting.core.env_config | INFO     | _load_dotenv:93 | python-dotenv not installed, using system environment variables only
2025-08-06 02:14:02 | forecasting.core.env_config | INFO     | __init__:59 | Configuration loaded for environment: development
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:121 | Starting DATect Prediction API v1.0.0
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:122 | Environment: development
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:123 | API Host: localhost:8000
2025-08-06 02:14:02 | forecasting.core.health_monitoring | INFO     | __init__:60 | Health monitor initialized for <forecasting.core.env_config.EnvironmentConfig object at 0x126fd5940>
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:127 | HealthMonitor initialized successfully
2025-08-06 02:14:02 | forecasting.core.data_validation | INFO     | __init__:58 | DataValidator initialized (strict_mode=False)
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:131 | DataValidator initialized successfully
2025-08-06 02:14:02 | forecasting.core.model_persistence | INFO     | __init__:64 | ModelArtifactManager initialized: model_artifacts
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:135 | ForecastEngine initialized successfully
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:138 | Health monitoring system ready
2025-08-06 02:14:02 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:14:02 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 2 model types:
2025-08-06 02:14:02 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_ridge: 1 versions
2025-08-06 02:14:02 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_logistic: 1 versions
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:142 | Found 2 model types available
2025-08-06 02:14:02 | forecasting.api.service | INFO     | startup_event:144 | DATect Prediction API startup complete
2025-08-06 02:14:09 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>
2025-08-06 02:14:09 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 182, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat.py", line 152, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 527, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<10 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>

2025-08-06 02:14:09 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:14:09 | forecasting.core.forecast_engine | INFO     | list_available_models:710 | Found 2 model types:
2025-08-06 02:14:09 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_ridge: 1 versions
2025-08-06 02:14:09 | forecasting.core.forecast_engine | INFO     | list_available_models:712 |   api_demo_logistic: 1 versions
2025-08-06 02:14:09 | forecasting.api.service | ERROR    | get_metrics:1039 | Metrics endpoint failed: 'HealthMonitor' object has no attribute 'get_metrics_summary'
2025-08-06 02:14:09 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Object of type datetime is not JSON serializable
2025-08-06 02:14:09 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1022, in get_metrics
    metrics = health_monitor.get_metrics_summary()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'get_metrics_summary'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1040, in get_metrics
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: Failed to retrieve metrics

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 1097, in http_exception_handler
    return JSONResponse(
        status_code=exc.status_code,
    ...<4 lines>...
        ).dict()
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type datetime is not JSON serializable

2025-08-06 02:14:12 | forecasting.api.service | INFO     | predict:726 | Prediction request: model=api_demo_logistic, records=1
2025-08-06 02:14:12 | forecasting.core.data_validation | INFO     | validate_prediction_data:137 | Validating data: 1 rows Ã— 16 columns
2025-08-06 02:14:12 | forecasting.core.data_validation | INFO     | _log_validation_summary:430 | Data validation complete:
2025-08-06 02:14:12 | forecasting.core.data_validation | INFO     | _log_validation_summary:431 |   Quality Score: 95.0/100 (Excellent)
2025-08-06 02:14:12 | forecasting.core.data_validation | INFO     | _log_validation_summary:432 |   Errors: 0
2025-08-06 02:14:12 | forecasting.core.data_validation | INFO     | _log_validation_summary:433 |   Warnings: 1
2025-08-06 02:14:12 | forecasting.core.data_validation | INFO     | _log_validation_summary:434 |   Missing Data: 0.0%
2025-08-06 02:14:12 | forecasting.core.data_validation | WARNING  | _log_validation_summary:441 |   âš  Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}
2025-08-06 02:14:12 | forecasting.api.service | WARNING  | predict:740 | Prediction data validation warnings: ['Unexpected columns found: {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}']
2025-08-06 02:14:12 | forecasting.core.model_persistence | INFO     | list_models:185 | Found 2 model types with 2 total versions
2025-08-06 02:14:12 | forecasting.core.model_persistence | INFO     | load_model:150 | Model loaded successfully: api_demo_logistic vv1.0
2025-08-06 02:14:12 | forecasting.core.forecast_engine | INFO     | load_trained_model:684 | Model loaded successfully: api_demo_logistic vlatest
2025-08-06 02:14:12 | forecasting.core.forecast_engine | INFO     | load_trained_model:685 | Model trained on None samples
2025-08-06 02:14:12 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   accuracy: 0.8200
2025-08-06 02:14:12 | forecasting.core.forecast_engine | INFO     | load_trained_model:691 |   f1_score: 0.7900
2025-08-06 02:14:12 | datect.validation | INFO     | validate_data_integrity:263 | Data validation passed: 1 rows Ã— 16 columns
2025-08-06 02:14:12 | forecasting.core.forecast_engine | ERROR    | predict_with_saved_model:780 | Prediction failed with saved model: setting an array element with a sequence.
2025-08-06 02:14:12 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: 'HealthMonitor' object has no attribute 'record_api_request'
2025-08-06 02:14:12 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
TypeError: float() argument must be a string or a real number, not 'tuple'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 773, in predict_with_saved_model
    predictions = model.predict(processed_data)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 374, in predict
    scores = self.decision_function(X)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/linear_model/_base.py", line 351, in decision_function
    X = validate_data(self, X, accept_sparse="csr", reset=False)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sklearn/utils/_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pandas/core/generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
ValueError: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 743, in predict
    predictions = forecast_engine.predict_with_saved_model(
        model_name=request.model_name,
        data=df_input,
        version=request.model_version
    )
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/core/forecast_engine.py", line 781, in predict_with_saved_model
    raise ModelError(f"Prediction failed: {str(e)}",
                   error_code="PREDICTION_FAILED")
forecasting.core.exception_handling.ModelError: Prediction failed: setting an array element with a sequence.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ansonchen/Documents/GitHub/DATect-Forecasting-Domoic-Acid/forecasting/api/service.py", line 786, in predict
    health_monitor.record_api_request(processing_time, 400)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HealthMonitor' object has no attribute 'record_api_request'. Did you mean: 'record_request'?

2025-08-06 02:14:40 | forecasting.api.service | ERROR    | general_exception_handler:1110 | Unhandled exception: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>
2025-08-06 02:14:40 | forecasting.api.service | ERROR    | general_exception_handler:1111 | Exception traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 182, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat.py", line 152, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 527, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<10 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'forecasting.core.env_config.EnvironmentConfig'>

